/**
 * 变形形状动画组件
 */

'use client';

import { cn } from '@/lib/utils';

interface MorphingShapeProps {
  className?: string;
  color?: string;
  size?: number;
  duration?: number;
}

export function MorphingShape({
  className,
  color = 'hsl(var(--primary))',
  size = 200,
  duration = 8,
}: MorphingShapeProps) {
  return (
    <div 
      className={cn('relative', className)}
      style={{ width: size, height: size }}
    >
      <svg
        viewBox="0 0 200 200"
        className="w-full h-full"
        style={{ animation: `spin ${duration * 2}s linear infinite` }}
      >
        <defs>
          <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stopColor={color} stopOpacity="0.8" />
            <stop offset="100%" stopColor={color} stopOpacity="0.3" />
          </linearGradient>
        </defs>
        <path
          fill="url(#gradient)"
          style={{
            animation: `morph ${duration}s ease-in-out infinite`,
          }}
          d="M47.5,-51.2C59.9,-35.1,67.3,-17.6,66.4,-0.9C65.5,15.8,56.3,31.6,43.9,47.5C31.6,63.4,15.8,79.4,-0.7,80.1C-17.2,80.8,-34.4,66.2,-48.3,50.3C-62.2,34.4,-72.8,17.2,-73.5,-0.7C-74.2,-18.6,-65,-37.2,-51.1,-53.3C-37.2,-69.4,-18.6,-83,0.5,-83.5C19.6,-84,39.2,-71.4,47.5,-51.2Z"
          transform="translate(100 100)"
        />
      </svg>
      
      <style jsx>{`
        @keyframes morph {
          0%, 100% {
            d: path("M47.5,-51.2C59.9,-35.1,67.3,-17.6,66.4,-0.9C65.5,15.8,56.3,31.6,43.9,47.5C31.6,63.4,15.8,79.4,-0.7,80.1C-17.2,80.8,-34.4,66.2,-48.3,50.3C-62.2,34.4,-72.8,17.2,-73.5,-0.7C-74.2,-18.6,-65,-37.2,-51.1,-53.3C-37.2,-69.4,-18.6,-83,0.5,-83.5C19.6,-84,39.2,-71.4,47.5,-51.2Z");
          }
          25% {
            d: path("M41.2,-53.8C52.3,-37.8,59.1,-18.9,59.5,-0.4C59.9,18.1,53.9,36.2,42.8,52.3C31.6,68.4,15.8,82.5,-1.3,83.8C-18.4,85.1,-36.8,73.6,-50.9,57.5C-65,41.4,-74.8,20.7,-75.8,-1C-76.8,-22.7,-69,-45.4,-54.9,-61.4C-40.8,-77.4,-20.4,-86.7,-0.7,-86C19,-85.3,38,-75.6,41.2,-53.8Z");
          }
          50% {
            d: path("M38.1,-48.2C48.3,-33.8,54.9,-16.9,56.3,0.8C57.7,18.5,53.9,37,43.3,51.3C32.7,65.6,16.3,75.7,-0.8,76.5C-17.9,77.3,-35.8,68.8,-49.3,54.5C-62.8,40.2,-71.9,20.1,-72.6,-0.7C-73.3,-21.5,-65.6,-43,-52.1,-57.4C-38.6,-71.8,-19.3,-79.1,-1.2,-77.9C16.9,-76.7,33.8,-66.8,38.1,-48.2Z");
          }
          75% {
            d: path("M44.5,-49.7C56.9,-32.1,65.4,-16.1,65.8,0.2C66.2,16.5,58.5,33,46.1,48.5C33.7,64,16.9,78.5,-0.9,79.4C-18.7,80.3,-37.4,67.6,-51.2,52.1C-65,36.6,-73.9,18.3,-74.3,-0.5C-74.7,-19.3,-66.6,-38.6,-52.8,-56.2C-39,-73.8,-19.5,-89.7,-1.7,-88C16.1,-86.3,32.2,-67,44.5,-49.7Z");
          }
        }
      `}</style>
    </div>
  );
}
